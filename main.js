(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{hi:()=>K,$z:()=>ee,ON:()=>Q,L1:()=>ne,lH:()=>G,Ph:()=>Z,Kc:()=>te,eY:()=>Y});var t={inputSelector:".form__input",submitButtonSelector:".button_type_submit",inactiveButtonClass:"button_disabled",inputErrorClass:"form__input_type_error",errorClass:"form__error_visible"},n=document.querySelector(".button_type_edit"),r=document.querySelector(".button_type_add"),o=document.querySelector(".profile__avatar-overlay");function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseUrl=t.baseUrl,this.authToken=t.headers.authorization}var t,n;return t=e,(n=[{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getInitialCards",value:function(){return fetch("".concat(this.baseUrl,"/cards"),{headers:{authorization:this.authToken}}).then(this._getResponseData)}},{key:"getUserInfo",value:function(){return fetch("".concat(this.baseUrl,"/users/me"),{headers:{authorization:this.authToken}}).then(this._getResponseData)}},{key:"sendNewCardInfo",value:function(e,t){return fetch("".concat(this.baseUrl,"/cards"),{method:"POST",headers:{authorization:this.authToken,"Content-Type":"application/json"},body:JSON.stringify({name:e,link:t})}).then(this._getResponseData)}},{key:"sendUserInfo",value:function(e,t){return fetch("".concat(this.baseUrl,"/users/me"),{method:"PATCH",headers:{authorization:this.authToken,"Content-Type":"application/json"},body:JSON.stringify({name:e,about:t})}).then(this._getResponseData)}},{key:"sendUserAvatar",value:function(e){return fetch("".concat(this.baseUrl,"/users/me/avatar"),{method:"PATCH",headers:{authorization:this.authToken,"Content-Type":"application/json"},body:JSON.stringify({avatar:e})}).then(this._getResponseData)}},{key:"sendСardDeleteRequest",value:function(e){return fetch("".concat(this.baseUrl,"/cards/").concat(e),{method:"DELETE",headers:{authorization:this.authToken}}).then(this._getResponseData)}},{key:"sendSetLikeRequest",value:function(e){return fetch("".concat(this.baseUrl,"/cards/").concat(e,"/likes"),{method:"PUT",headers:{authorization:this.authToken}}).then(this._getResponseData)}},{key:"sendRemoveLikeRequest",value:function(e){return fetch("".concat(this.baseUrl,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:{authorization:this.authToken}}).then(this._getResponseData)}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._cardData=t.cardData,this._template=document.querySelector(t.templateSelector),this._myIdentificator=t.myIdentificator,this._handleOnCardClick=t.handleOnCardClick,this._handleDeleteBtnClick=t.handleDeleteBtnClick,this._handleLikeCard=t.handleLikeCard}var t,n;return t=e,(n=[{key:"_setLikeBtnStateWithCounts",value:function(e,t){e?(this._cardIsLikedByMe=!0,this._currentCardLikeBtn.classList.add("button_active")):(this._cardIsLikedByMe=!1,this._currentCardLikeBtn.classList.remove("button_active")),this._currentCardLikeCounterEl.textContent=t}},{key:"_deleteDomElement",value:function(){this._currentElement.remove(),this._currentElement=null}},{key:"_setEventListeners",value:function(){var e=this;this._currentCardPicture.addEventListener("click",(function(){return e._handleOnCardClick(e._cardData.name,e._cardData.link)})),this._currentCardDeleteButton.addEventListener("click",(function(){e._handleDeleteBtnClick(e._cardData._id,e._deleteDomElement.bind(e))})),this._currentCardLikeBtn.addEventListener("click",(function(){e._handleLikeCard(e._cardIsLikedByMe,e._cardData._id,e._setLikeBtnStateWithCounts.bind(e))}))}},{key:"createElementNode",value:function(){var e=this;return this._currentElement=this._template.content.querySelector(".element").cloneNode(!0),this._currentCardName=this._currentElement.querySelector(".element__caption"),this._currentCardName.textContent=this._cardData.name,this._currentCardPicture=this._currentElement.querySelector(".element__image"),this._currentCardPicture.alt=this._cardData.name,this._currentCardPicture.src=this._cardData.link,this._currentCardLikeBtn=this._currentElement.querySelector(".button_type_like"),this._currentCardLikeCounterEl=this._currentElement.querySelector(".element__like-count"),this._cardIsLikedByMe=this._cardData.likes.some((function(t){return t._id==e._myIdentificator})),this._cardIsLikedByMe?this._setLikeBtnStateWithCounts(!0,this._cardData.likes.length):this._setLikeBtnStateWithCounts(!1,this._cardData.likes.length),this._currentCardDeleteButton=this._currentElement.querySelector(".button_type_delete"),this._cardData.owner._id!==this._myIdentificator&&this._currentCardDeleteButton.classList.add("button_hidden"),this._setEventListeners(),this._currentElement}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),s=function(e,t){G.open(e,t)},l=function(e,t){ee.open(),ee.keepCurrentCardOptions(e,t)},f=function(e,t,n){e?K.sendRemoveLikeRequest(t).then((function(e){n(!1,e.likes.length)})).catch((function(e){console.log("Ошибка api sendRemoveLikeRequest: ".concat(e))})):K.sendSetLikeRequest(t).then((function(e){n(!0,e.likes.length)})).catch((function(e){console.log("Ошибка api sendSetLikeRequest: ".concat(e))}))},p=function(e,t){return new c({cardData:e,templateSelector:".template_type_card",myIdentificator:t,handleOnCardClick:s,handleDeleteBtnClick:l,handleLikeCard:f}).createElementNode()};function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=h((function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,"_showInputError",(function(e,t){r._errorElement=r._form.querySelector("#".concat(e.id,"-error")),e.classList.add(r._validationConfig.inputErrorClass),r._errorElement.classList.add(r._validationConfig.errorClass),r._errorElement.textContent=t})),y(this,"_hideInputError",(function(e){r._errorElement=r._form.querySelector("#".concat(e.id,"-error")),e.classList.remove(r._validationConfig.inputErrorClass),r._errorElement.classList.remove(r._validationConfig.errorClass),r._errorElement.textContent=""})),y(this,"_checkInputValidity",(function(e){e.validity.valid?r._hideInputError(e):r._showInputError(e,e.validationMessage)})),y(this,"_handleInput",(function(e){r._checkInputValidity(e),r.setSubmitBtnState()})),y(this,"_setEventListeners",(function(){r._inputList=Array.from(r._form.querySelectorAll(r._validationConfig.inputSelector)),r._inputList.forEach((function(e){e.addEventListener("input",(function(){r._handleInput(e)}))}))})),y(this,"clearErrorMessages",(function(){r._inputList.forEach((function(e){r._hideInputError(e)}))})),y(this,"setSubmitBtnState",(function(){r._form.checkValidity()?(r._submitBtn.removeAttribute("disabled"),r._submitBtn.classList.remove(r._validationConfig.inactiveButtonClass)):(r._submitBtn.setAttribute("disabled",!0),r._submitBtn.classList.add(r._validationConfig.inactiveButtonClass))})),y(this,"enableValidation",(function(){r._setEventListeners()})),this._validationConfig=t,this._form=n,this._submitBtn=this._form.querySelector(this._validationConfig.submitButtonSelector)}));function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=t.renderer,this._container=document.querySelector(t.containerSelector)}var t,n;return t=e,(n=[{key:"renderItems",value:function(e,t){var n=this;e.forEach((function(e){return n._renderer(e,t)}))}},{key:"addItemAfterLastOne",value:function(e){this._container.append(e)}},{key:"addItemBeforeFirstOne",value:function(e){this._container.prepend(e)}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"_handlePopupOverlayClick",value:function(e){e.currentTarget==e.target&&this.close()}},{key:"_handlePopubCloseBtnClick",value:function(){this.close()}},{key:"setEventListeners",value:function(){this._popup.querySelector(".button_type_close").addEventListener("click",this._handlePopubCloseBtnClick.bind(this)),this._popup.addEventListener("click",this._handlePopupOverlayClick.bind(this))}},{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}}])&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=O(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},E.apply(this,arguments)}function O(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=L(e)););return e}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function S(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=L(r);if(o){var n=L(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return S(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).imgPopupImageElement=t._popup.querySelector(".popup__image"),t.imgPopupCaption=t._popup.querySelector(".popup__image-caption"),t}return t=a,(n=[{key:"open",value:function(e,t){this.imgPopupImageElement.alt=e,this.imgPopupImageElement.src=t,this.imgPopupCaption.textContent=e,E(L(a.prototype),"open",this).call(this)}}])&&C(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(g);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(){return I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=D(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},I.apply(this,arguments)}function D(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}function R(e,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},R(e,t)}function T(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(r);if(o){var n=q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return T(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e)).submitFormFunction=t,n.form=n._popup.querySelector(".form"),n._inputList=n.form.querySelectorAll(".form__input"),n._closeButton=n._popup.querySelector(".button_type_close"),n._submitButton=n.form.querySelector(".button_type_submit"),n._submitButtonOriginalText=n._submitButton.textContent,n}return t=a,(n=[{key:"renderLoading",value:function(e){e?this._submitButton.textContent="Сохранение...":e||(this._submitButton.textContent="Сохранить")}},{key:"_getInputValues",value:function(){var e={};return this._inputList.forEach((function(t){e[t.id]=t.value})),e}},{key:"_handleSubmitEvent",value:function(e){e.preventDefault(),this.submitFormFunction(this._getInputValues())}},{key:"setInputValues",value:function(e){this._inputList.forEach((function(t){t.value=e[t.name]}))}},{key:"setEventListeners",value:function(){I(q(a.prototype),"setEventListeners",this).call(this),this.form.addEventListener("submit",this._handleSubmitEvent.bind(this))}},{key:"close",value:function(){I(q(a.prototype),"close",this).call(this),this.form.reset()}}])&&B(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(g);function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(){return N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=z(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},N.apply(this,arguments)}function z(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=F(e)););return e}function V(e,t){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},V(e,t)}function M(e,t){if(t&&("object"===U(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function F(e){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},F(e)}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=F(r);if(o){var n=F(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return M(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._handleConfirm=t,n.form=n._popup.querySelector(".form"),n._submitButton=n._popup.querySelector(".button_type_submit"),n._submitButtonOriginalText=n._submitButton.textContent,n}return t=a,(n=[{key:"renderLoading",value:function(e){e?this._submitButton.textContent="Сохранение...":e||(this._submitButton.textContent=this._submitButtonOriginalText)}},{key:"_handleSubmitEvent",value:function(e){e.preventDefault(),this._handleConfirm(this.cardId,this.deleteCurrentDomElement)}},{key:"keepCurrentCardOptions",value:function(e,t){this.cardId=e,this.deleteCurrentDomElement=t}},{key:"deleteCurrentCardOptions",value:function(){this.cardId=null,this.deleteCurrentDomElement=null}},{key:"setEventListeners",value:function(){N(F(a.prototype),"setEventListeners",this).call(this),this.form.addEventListener("submit",this._handleSubmitEvent.bind(this))}}])&&x(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(g);function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var J=function(){function e(t){var n=t.profileNameSelector,r=t.profileAboutSelector,o=t.profileAvatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._profileNameEl=document.querySelector(n),this._profileAboutEl=document.querySelector(r),this.profileAvatarEl=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){var e={};return e.profileName=this._profileNameEl.textContent,e.profileAbout=this._profileAboutEl.textContent,e}},{key:"setUserAvatar",value:function(e){this.profileAvatarEl.src=e}},{key:"setUserInfo",value:function(e,t){this._profileNameEl.textContent=e,this._profileAboutEl.textContent=t}}])&&H(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var K=new a({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-55",headers:{authorization:"8abcd093-addb-4bd1-b00f-f600aa41c00a","Content-Type":"application/json"}}),Y=new J({profileNameSelector:".profile__name",profileAboutSelector:".profile__about",profileAvatarSelector:".profile__avatar"}),G=new P(".popup_type_image");G.setEventListeners();var Q=new A(".popup_type_new-card",(function(e){var t=e["form__input_type_place-name"],n=e["form__input_type_image-link"];Q.renderLoading(!0),K.sendNewCardInfo(t,n).then((function(e){var t=p(e,e.owner._id);oe.addItemBeforeFirstOne(t),Q.close()})).catch((function(e){console.log("Ошибка api sendNewCardInfo: ".concat(e))})).finally((function(){Q.renderLoading(!1)}))}));Q.setEventListeners();var X=new A(".popup_type_new-avatar",(function(e){var t=e["form__input_type_avatar-link"];X.renderLoading(!0),K.sendUserAvatar(t).then((function(e){Y.setUserAvatar(e.avatar),X.close()})).catch((function(e){console.log("Ошибка api sendUserAvatar: ".concat(e))})).finally((function(){X.renderLoading(!1)}))}));X.setEventListeners();var Z=new A(".popup_type_profile",(function(e){Z.renderLoading(!0),K.sendUserInfo(e["form__input_type_profile-name"],e["form__input_type_profile-about"]).then((function(e){return Y.setUserInfo(e.name,e.about),Z.close(),e})).catch((function(e){console.log("Ошибка api sendUserInfo: ".concat(e))})).finally((function(){Z.renderLoading(!1)}))}));Z.setEventListeners();var ee=new W(".popup_type_confirmation",(function(e,t){ee.renderLoading(!0),K["sendСardDeleteRequest"](e).then((function(e){if(e)return t(),void ee.close()})).catch((function(e){console.log("Ошибка api sendСardDeleteRequest: ".concat(e))})).finally((function(){ee.renderLoading(!1),ee.deleteCurrentCardOptions()}))}));ee.setEventListeners();var te=new _(t,Z.form),ne=new _(t,Q.form),re=new _(t,X.form);te.enableValidation(),ne.enableValidation(),re.enableValidation(),n.addEventListener("click",(function(){var e=Y.getUserInfo();Z.setInputValues(e),te.clearErrorMessages(),te.setSubmitBtnState(),Z.open()})),r.addEventListener("click",(function(){te.clearErrorMessages(),ne.setSubmitBtnState(),Q.open()})),o.addEventListener("click",(function(e){X.open(),re.setSubmitBtnState()}));var oe=new m({renderer:function(e,t){var n=p(e,t);oe.addItemAfterLastOne(n)},containerSelector:".elements__list"});Promise.all([K.getUserInfo(),K.getInitialCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];return Y.setUserInfo(o.name,o.about),Y.setUserAvatar(o.avatar),oe.renderItems(i,o._id),o})).catch((function(e){console.log("Ошибка api промиса из promise.all: ".concat(e))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQW1CM0gsS0FFbEUySCxDQUNULElBQ0NqRyxPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUksc0NBQUQsT0FBdUNGLEdBQ3BELEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9tZXN0by93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vbWVzdG8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL3V0aWxzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJleHBvcnQgY29uc3QgYXBpT3B0aW9ucyA9IHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNTVcIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcIjhhYmNkMDkzLWFkZGItNGJkMS1iMDBmLWY2MDBhYTQxYzAwYVwiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgfSxcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xyXG4gIC8v0YHQtdC70LXQutGC0L7RgNGLINGBINGC0L7Rh9C60L7QuSDQsiDQvdCw0YfQsNC70LU6XHJcbiAgLy9mb3JtU2VsZWN0b3I6IFwiLmZvcm1cIiwg0L3QtSDQuNGB0L/QvtC70YzQt9GD0LXRgtGB0Y9cclxuICBpbnB1dFNlbGVjdG9yOiBcIi5mb3JtX19pbnB1dFwiLFxyXG4gIC8vZXJyb3JTZWxlY3RvcjogXCIuZm9ybV9fZXJyb3JcIiwg0L3QtSDQuNGB0L/QvtC70YzQt9GD0LXRgtGB0Y9cclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIuYnV0dG9uX3R5cGVfc3VibWl0XCIsXHJcblxyXG4gIC8v0LrQu9Cw0YHRgdGLINCx0LXQtyDRgtC+0YfQutC4INCyINC90LDRh9Cw0LvQtTpcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcImJ1dHRvbl9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJmb3JtX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJmb3JtX19lcnJvcl92aXNpYmxlXCIsXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdXNlckluZm9Db25maWcgPSB7XHJcbiAgcHJvZmlsZU5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fbmFtZVwiLFxyXG4gIHByb2ZpbGVBYm91dFNlbGVjdG9yOiBcIi5wcm9maWxlX19hYm91dFwiLFxyXG4gIHByb2ZpbGVBdmF0YXJTZWxlY3RvcjogXCIucHJvZmlsZV9fYXZhdGFyXCIsXHJcbn07XHJcblxyXG4vL9C90LDRhdC+0LTQuNC8INC60L3QvtC/0LrQuCDQvdCwINGB0YLRgNCw0L3QuNGG0LVcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXR0b25fdHlwZV9lZGl0XCIpO1xyXG5leHBvcnQgY29uc3QgbmV3Q2FyZEFkZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uX3R5cGVfYWRkXCIpO1xyXG5leHBvcnQgY29uc3QgYXZhdGFyT3ZlcmxheUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXItb3ZlcmxheVwiKTtcclxuIiwiZXhwb3J0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgdGhpcy5iYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsO1xyXG4gICAgdGhpcy5hdXRoVG9rZW4gPSBvcHRpb25zLmhlYWRlcnMuYXV0aG9yaXphdGlvbjtcclxuICB9XHJcblxyXG4gIF9nZXRSZXNwb25zZURhdGEocmVzKSB7XHJcbiAgICBpZiAoIXJlcy5vaykge1xyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgfVxyXG5cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuYXV0aFRva2VuLFxyXG4gICAgICB9LFxyXG4gICAgfSkudGhlbih0aGlzLl9nZXRSZXNwb25zZURhdGEpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuYXV0aFRva2VuLFxyXG4gICAgICB9LFxyXG4gICAgfSkudGhlbih0aGlzLl9nZXRSZXNwb25zZURhdGEpO1xyXG4gIH1cclxuXHJcbiAgc2VuZE5ld0NhcmRJbmZvKG5hbWUsIGxpbmspIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5hdXRoVG9rZW4sXHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIGxpbms6IGxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9nZXRSZXNwb25zZURhdGEpO1xyXG4gIH1cclxuXHJcbiAgc2VuZFVzZXJJbmZvKG5hbWUsIGFib3V0KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLmF1dGhUb2tlbixcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgYWJvdXQ6IGFib3V0LFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4odGhpcy5fZ2V0UmVzcG9uc2VEYXRhKTtcclxuICB9XHJcblxyXG4gIHNlbmRVc2VyQXZhdGFyKGF2YXRhclVybCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuYXV0aFRva2VuLFxyXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiBhdmF0YXJVcmwsXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9nZXRSZXNwb25zZURhdGEpO1xyXG4gIH1cclxuXHJcbiAgc2VuZNChYXJkRGVsZXRlUmVxdWVzdChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5hdXRoVG9rZW4sXHJcbiAgICAgIH0sXHJcbiAgICB9KS50aGVuKHRoaXMuX2dldFJlc3BvbnNlRGF0YSk7XHJcbiAgfVxyXG5cclxuICBzZW5kU2V0TGlrZVJlcXVlc3QoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuYXV0aFRva2VuLFxyXG4gICAgICB9LFxyXG4gICAgfSkudGhlbih0aGlzLl9nZXRSZXNwb25zZURhdGEpO1xyXG4gIH1cclxuXHJcbiAgc2VuZFJlbW92ZUxpa2VSZXF1ZXN0KGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLmF1dGhUb2tlbixcclxuICAgICAgfSxcclxuICAgIH0pLnRoZW4odGhpcy5fZ2V0UmVzcG9uc2VEYXRhKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5fY2FyZERhdGEgPSBvcHRpb25zLmNhcmREYXRhO1xuICAgIHRoaXMuX3RlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRpb25zLnRlbXBsYXRlU2VsZWN0b3IpO1xuXG4gICAgdGhpcy5fbXlJZGVudGlmaWNhdG9yID0gb3B0aW9ucy5teUlkZW50aWZpY2F0b3I7XG5cbiAgICB0aGlzLl9oYW5kbGVPbkNhcmRDbGljayA9IG9wdGlvbnMuaGFuZGxlT25DYXJkQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQnRuQ2xpY2sgPSBvcHRpb25zLmhhbmRsZURlbGV0ZUJ0bkNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VDYXJkID0gb3B0aW9ucy5oYW5kbGVMaWtlQ2FyZDtcbiAgfVxuXG4gIF9zZXRMaWtlQnRuU3RhdGVXaXRoQ291bnRzKGlzTGlrZWQsIGNvdW50c09mTGlrZXNGcm9tU2VydmVyKSB7XG4gICAgaWYgKGlzTGlrZWQpIHtcbiAgICAgIHRoaXMuX2NhcmRJc0xpa2VkQnlNZSA9IHRydWU7XG4gICAgICB0aGlzLl9jdXJyZW50Q2FyZExpa2VCdG4uY2xhc3NMaXN0LmFkZChcImJ1dHRvbl9hY3RpdmVcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2NhcmRJc0xpa2VkQnlNZSA9IGZhbHNlO1xuICAgICAgdGhpcy5fY3VycmVudENhcmRMaWtlQnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJidXR0b25fYWN0aXZlXCIpO1xuICAgIH1cblxuICAgIHRoaXMuX2N1cnJlbnRDYXJkTGlrZUNvdW50ZXJFbC50ZXh0Q29udGVudCA9IGNvdW50c09mTGlrZXNGcm9tU2VydmVyO1xuICB9XG5cbiAgX2RlbGV0ZURvbUVsZW1lbnQoKSB7XG4gICAgdGhpcy5fY3VycmVudEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgLy/Qn9GA0Lgg0YPQtNCw0LvQtdC90LjQuCDRjdC60LfQtdC80L/Qu9GP0YDQsCDQutC70LDRgdGB0LAg0LXQs9C+INC00L7Qv9C+0LvQvdC40YLQtdC70YzQvdC+INC/0L7RgdC70LUg0YPQtNCw0LvQtdC90LjRjyDQvdGD0LbQvdC+INC30LDQvdGD0LvRj9GC0YwuXG4gICAgLy9yZW1vdmUg0YPQtNCw0LvRj9C10YIg0YLQvtC70YzQutC+INGA0LDQt9C80LXRgtC60YMg0LjQtyBodG1sLCDRgdCw0Lwg0L7QsdGK0LXQutGCINC60LDRgNGC0L7Rh9C60Lgg0L7RgdGC0LDQtdGC0YHRjyDQsiDQv9Cw0LzRj9GC0LhcbiAgICB0aGlzLl9jdXJyZW50RWxlbWVudCA9IG51bGw7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fY3VycmVudENhcmRQaWN0dXJlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxuICAgICAgdGhpcy5faGFuZGxlT25DYXJkQ2xpY2sodGhpcy5fY2FyZERhdGEubmFtZSwgdGhpcy5fY2FyZERhdGEubGluaylcbiAgICApO1xuXG4gICAgdGhpcy5fY3VycmVudENhcmREZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ0bkNsaWNrKHRoaXMuX2NhcmREYXRhLl9pZCwgdGhpcy5fZGVsZXRlRG9tRWxlbWVudC5iaW5kKHRoaXMpKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2N1cnJlbnRDYXJkTGlrZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlTGlrZUNhcmQoXG4gICAgICAgIHRoaXMuX2NhcmRJc0xpa2VkQnlNZSxcbiAgICAgICAgdGhpcy5fY2FyZERhdGEuX2lkLFxuICAgICAgICB0aGlzLl9zZXRMaWtlQnRuU3RhdGVXaXRoQ291bnRzLmJpbmQodGhpcylcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cblxuICAvL9C80LXRgtC+0LQg0YTQvtGA0LzQuNGA0L7QstCw0L3QuNGPIERPTS3RjdC70LXQvNC10L3RgtCwINC60LDRgNGC0L7Rh9C60Lgg0LjQtyB0ZW1wbGF0ZSDQuCDQvdCw0LLQtdGI0LjQstCw0L3QuNC1INGB0LvRg9GI0LDRgtC10LvQtdC5XG4gIGNyZWF0ZUVsZW1lbnROb2RlKCkge1xuICAgIHRoaXMuX2N1cnJlbnRFbGVtZW50ID0gdGhpcy5fdGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRcIikuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgdGhpcy5fY3VycmVudENhcmROYW1lID0gdGhpcy5fY3VycmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19jYXB0aW9uXCIpO1xuICAgIHRoaXMuX2N1cnJlbnRDYXJkTmFtZS50ZXh0Q29udGVudCA9IHRoaXMuX2NhcmREYXRhLm5hbWU7XG5cbiAgICB0aGlzLl9jdXJyZW50Q2FyZFBpY3R1cmUgPSB0aGlzLl9jdXJyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2ltYWdlXCIpO1xuICAgIHRoaXMuX2N1cnJlbnRDYXJkUGljdHVyZS5hbHQgPSB0aGlzLl9jYXJkRGF0YS5uYW1lO1xuICAgIHRoaXMuX2N1cnJlbnRDYXJkUGljdHVyZS5zcmMgPSB0aGlzLl9jYXJkRGF0YS5saW5rO1xuXG4gICAgdGhpcy5fY3VycmVudENhcmRMaWtlQnRuID0gdGhpcy5fY3VycmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXR0b25fdHlwZV9saWtlXCIpO1xuXG4gICAgdGhpcy5fY3VycmVudENhcmRMaWtlQ291bnRlckVsID0gdGhpcy5fY3VycmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlLWNvdW50XCIpO1xuICAgIHRoaXMuX2NhcmRJc0xpa2VkQnlNZSA9IHRoaXMuX2NhcmREYXRhLmxpa2VzLnNvbWUoKHVzZXJEYXRhKSA9PiB7XG4gICAgICByZXR1cm4gdXNlckRhdGEuX2lkID09IHRoaXMuX215SWRlbnRpZmljYXRvcjtcbiAgICB9KTtcbiAgICBpZiAodGhpcy5fY2FyZElzTGlrZWRCeU1lKSB7XG4gICAgICB0aGlzLl9zZXRMaWtlQnRuU3RhdGVXaXRoQ291bnRzKHRydWUsIHRoaXMuX2NhcmREYXRhLmxpa2VzLmxlbmd0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3NldExpa2VCdG5TdGF0ZVdpdGhDb3VudHMoZmFsc2UsIHRoaXMuX2NhcmREYXRhLmxpa2VzLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgdGhpcy5fY3VycmVudENhcmREZWxldGVCdXR0b24gPSB0aGlzLl9jdXJyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1dHRvbl90eXBlX2RlbGV0ZVwiKTtcbiAgICBpZiAodGhpcy5fY2FyZERhdGEub3duZXIuX2lkICE9PSB0aGlzLl9teUlkZW50aWZpY2F0b3IpIHtcbiAgICAgIHRoaXMuX2N1cnJlbnRDYXJkRGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJidXR0b25faGlkZGVuXCIpO1xuICAgIH1cblxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICByZXR1cm4gdGhpcy5fY3VycmVudEVsZW1lbnQ7XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIG5ld0NhcmRQb3B1cCxcbiAgcG9wdXBXaXRoSW1hZ2UsXG4gIHByb2ZpbGVQb3B1cCxcbiAgdXNlckluZm8sXG4gIHByb2ZpbGVQb3B1cFZhbGlkYXRlLFxuICBuZXdDYXJkUG9wdXBWYWxpZGF0ZSxcbiAgY29uZmlybWF0aW9uUG9wdXAsXG4gIGFwaSxcbn0gZnJvbSBcIi4uL3NjcmlwdHMvaW5kZXguanNcIjtcblxuaW1wb3J0IHsgQ2FyZCB9IGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcblxuLy/RhNGD0L3QutGG0LjRjy3QvtCx0YDQsNCx0L7RgtGH0LjQuiDQutC70LjQutCwINC/0L4g0LrQvdC+0L/QutC1IGVkaXQgKNC+0YLQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y8pXG5leHBvcnQgY29uc3QgaGFuZGxlUHJvZmlsZUVkaXRCdG5DbGljayA9ICgpID0+IHtcbiAgY29uc3QgdXNlckRhdGFGcm9tUGFnZSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG5cbiAgLy/RgyDQuNC90L/Rg9GC0L7QsiDRgtC10L/QtdGA0Ywg0LXRgdGC0Ywg0LDRgtGA0LjQsdGD0YIgbmFtZSwg0LrQvtGC0L7RgNGL0Lkg0YHQvtGH0LXRgtCw0LXRgtGB0Y8g0YFcbiAgLy/QvdCw0LfQstCw0L3QuNGP0LzQuCDRgdCy0L7QudGB0YLQsiDQvtCx0YrQtdC60YLQsCB1c2VyRGF0YSwg0L/QvtC70YPRh9Cw0LXQvNC+0LPQviDQuNC3INC60LvQsNGB0YHQsCBVc2VySW5mbyDQvNC10YLQvtC00L7QvCBnZXRVc2VySW5mb1xuICBwcm9maWxlUG9wdXAuc2V0SW5wdXRWYWx1ZXModXNlckRhdGFGcm9tUGFnZSk7XG5cbiAgcHJvZmlsZVBvcHVwVmFsaWRhdGUuY2xlYXJFcnJvck1lc3NhZ2VzKCk7XG4gIHByb2ZpbGVQb3B1cFZhbGlkYXRlLnNldFN1Ym1pdEJ0blN0YXRlKCk7XG5cbiAgcHJvZmlsZVBvcHVwLm9wZW4oKTtcbn07XG5cbi8v0YTRg9C90LrRhtC40Y8t0L7QsdGA0LDQsdC+0YLRh9C40Log0LrQu9C40LrQsCDQv9C+INC60L3QvtC/0LrQtSBhZGQgKNC+0YLQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwINC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LgpXG5leHBvcnQgY29uc3QgaGFuZGxlTmV3Q2FyZEFkZEJ0bkNsaWNrID0gKCkgPT4ge1xuICBwcm9maWxlUG9wdXBWYWxpZGF0ZS5jbGVhckVycm9yTWVzc2FnZXMoKTtcbiAgbmV3Q2FyZFBvcHVwVmFsaWRhdGUuc2V0U3VibWl0QnRuU3RhdGUoKTtcbiAgbmV3Q2FyZFBvcHVwLm9wZW4oKTtcbn07XG5cbi8v0YTRg9C90LrRhtC40Y8t0L7QsdGA0LDQsdC+0YLRh9C40Log0LrQu9C40LrQsCDQv9C+INC60LDRgNGC0LjQvdC60LUgKNC+0YLQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwINC/0YDQvtGB0LzQvtGC0YDQsCDQutCw0YDRgtC40L3QutC4KVxuZXhwb3J0IGNvbnN0IGhhbmRsZU9uQ2FyZENsaWNrID0gKGNhcmROYW1lLCBjYXJkUGljU3JjKSA9PiB7XG4gIHBvcHVwV2l0aEltYWdlLm9wZW4oY2FyZE5hbWUsIGNhcmRQaWNTcmMpO1xufTtcblxuLy/RhNGD0L3QutGG0LjRjy3QvtCx0YDQsNCx0L7RgtGH0LjQuiDQutC70LjQutCwINC/0L4g0LrQvdC+0L/QutC1INGD0LTQsNC70LXQvdC40Y8gKNC+0YLQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwINC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNGPINGD0LTQsNC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuClcbmNvbnN0IGhhbmRsZURlbGV0ZUJ0bkNsaWNrID0gKGNhcmRJZCwgZGVsZXRlQ3VycmVudERvbUVsZW1lbnQpID0+IHtcbiAgY29uZmlybWF0aW9uUG9wdXAub3BlbigpO1xuICBjb25maXJtYXRpb25Qb3B1cC5rZWVwQ3VycmVudENhcmRPcHRpb25zKGNhcmRJZCwgZGVsZXRlQ3VycmVudERvbUVsZW1lbnQpO1xufTtcblxuLy/RhNGD0L3QutGG0LjRjywg0L7RgtCy0LXRh9Cw0Y7RidCw0Y8g0LfQsCDQv9C+0YHQu9C10LTRgdGC0LLQuNGPINCf0L7QtNGC0LLQtdGA0LbQtNC10L3QuNGPXG5leHBvcnQgY29uc3QgaGFuZGxlQ29uZmlybSA9IChjYXJkSWQsIGRlbGV0ZUN1cnJlbnREb21FbGVtZW50KSA9PiB7XG4gIGNvbmZpcm1hdGlvblBvcHVwLnJlbmRlckxvYWRpbmcodHJ1ZSk7XG4gIGFwaVxuICAgIC5zZW5k0KFhcmREZWxldGVSZXF1ZXN0KGNhcmRJZClcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzKSB7XG4gICAgICAgIGRlbGV0ZUN1cnJlbnREb21FbGVtZW50KCk7XG4gICAgICAgIGNvbmZpcm1hdGlvblBvcHVwLmNsb3NlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwIGFwaSBzZW5k0KFhcmREZWxldGVSZXF1ZXN0OiAke2Vycn1gKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIGNvbmZpcm1hdGlvblBvcHVwLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xuICAgICAgY29uZmlybWF0aW9uUG9wdXAuZGVsZXRlQ3VycmVudENhcmRPcHRpb25zKCk7XG4gICAgfSk7XG59O1xuXG4vL9C80LXRgtC+0LQt0L7QsdGA0LDQsdC+0YLRh9C40Log0LTQvtCx0LDQstC70LXQvdC40Y8gbGlrZSDQvdCwINC60LDRgNGC0L7Rh9C60LVcbmNvbnN0IGhhbmRsZUxpa2VDYXJkID0gKGlzQ2FyZEFscmVhZHlMaWtlZEJ5TWUsIGNhcmRJZCwgc2V0TGlrZUJ0blN0YXRlV2l0aENvdW50cykgPT4ge1xuICBpZiAoIWlzQ2FyZEFscmVhZHlMaWtlZEJ5TWUpIHtcbiAgICBhcGlcbiAgICAgIC5zZW5kU2V0TGlrZVJlcXVlc3QoY2FyZElkKVxuICAgICAgLnRoZW4oKGNhcmREYXRhRnJvbVNlcnZlcikgPT4ge1xuICAgICAgICBzZXRMaWtlQnRuU3RhdGVXaXRoQ291bnRzKHRydWUsIGNhcmREYXRhRnJvbVNlcnZlci5saWtlcy5sZW5ndGgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LAgYXBpIHNlbmRTZXRMaWtlUmVxdWVzdDogJHtlcnJ9YCk7XG4gICAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBhcGlcbiAgICAgIC5zZW5kUmVtb3ZlTGlrZVJlcXVlc3QoY2FyZElkKVxuICAgICAgLnRoZW4oKGNhcmREYXRhRnJvbVNlcnZlcikgPT4ge1xuICAgICAgICBzZXRMaWtlQnRuU3RhdGVXaXRoQ291bnRzKGZhbHNlLCBjYXJkRGF0YUZyb21TZXJ2ZXIubGlrZXMubGVuZ3RoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwIGFwaSBzZW5kUmVtb3ZlTGlrZVJlcXVlc3Q6ICR7ZXJyfWApO1xuICAgICAgfSk7XG4gIH1cbn07XG5cbi8v0YTRg9C90LrRhtC40Y8g0YHQvtC30LTQsNC90LjRjyDQutCw0YDRgtC+0YfQutC4KERPTS3RjdC70LXQvNC10L3RgtCwKSDQvdCwINC+0YHQvdC+0LLQtSDQutC70LDRgdGB0LBcbmV4cG9ydCBjb25zdCBjcmVhdGVDYXJkID0gKGNhcmREYXRhLCBteUlkZW50aWZpY2F0b3IpID0+IHtcbiAgY29uc3Qg0YFhcmRJbnN0YW5jZSA9IG5ldyBDYXJkKHtcbiAgICBjYXJkRGF0YTogY2FyZERhdGEsXG4gICAgdGVtcGxhdGVTZWxlY3RvcjogXCIudGVtcGxhdGVfdHlwZV9jYXJkXCIsXG4gICAgbXlJZGVudGlmaWNhdG9yOiBteUlkZW50aWZpY2F0b3IsXG4gICAgaGFuZGxlT25DYXJkQ2xpY2s6IGhhbmRsZU9uQ2FyZENsaWNrLFxuICAgIGhhbmRsZURlbGV0ZUJ0bkNsaWNrOiBoYW5kbGVEZWxldGVCdG5DbGljayxcbiAgICBoYW5kbGVMaWtlQ2FyZDogaGFuZGxlTGlrZUNhcmQsXG4gIH0pO1xuICByZXR1cm4g0YFhcmRJbnN0YW5jZS5jcmVhdGVFbGVtZW50Tm9kZSgpO1xufTtcbiIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcih2YWxpZGF0aW9uQ29uZmlnLCBmb3JtKSB7XHJcbiAgICB0aGlzLl92YWxpZGF0aW9uQ29uZmlnID0gdmFsaWRhdGlvbkNvbmZpZztcclxuICAgIHRoaXMuX2Zvcm0gPSBmb3JtO1xyXG5cclxuICAgIHRoaXMuX3N1Ym1pdEJ0biA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl92YWxpZGF0aW9uQ29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIC8v0L/QvtC60LDQt9GL0LLQsNC10Lwg0LrRgNCw0YHQvdGL0LUg0L7RiNC40LHQutC4INGDINC40L3Qv9GD0YLQsFxyXG4gIF9zaG93SW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkgPT4ge1xyXG4gICAgdGhpcy5fZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gIH07XHJcblxyXG4gIC8v0YPQsdC40YDQsNC10Lwg0LrRgNCw0YHQvdGL0LUg0L7RiNC40LHQutC4INGDINC40L3Qv9GD0YLQsFxyXG4gIF9oaWRlSW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgIHRoaXMuX2Vycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5lcnJvckNsYXNzKTtcclxuICAgIHRoaXMuX2Vycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgfTtcclxuXHJcbiAgLy/Qv9GA0L7QstC10YDRj9C10Lwg0LLQsNC70LjQtNC90L7RgdGC0Ywg0LjQvdC/0YPRgtCwXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eSA9IChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy/QvtCx0YDQsNCx0L7RgtGH0LjQuiDRgdC+0LHRi9GC0LjRjyBpbnB1dCDQuCDQv9C+0LvRj9GFINCy0LLQvtC00LBcclxuICBfaGFuZGxlSW5wdXQgPSAoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgIHRoaXMuc2V0U3VibWl0QnRuU3RhdGUoKTtcclxuICB9O1xyXG5cclxuICAvL9CS0LXRiNCw0LXQvCDRgdC70YPRiNCw0YLQtdC70Lgg0YHQvtCx0YvRgtC40Y8gSW5wdXQg0L3QsCDQstGB0LUg0L/QvtC70Y8g0LLQstC+0LTQsCDQtNC70Y8g0L/RgNC+0LLQtdGA0Y/QtdC8INC40YUg0LLQsNC70LjQtNC90L7RgdGC0Lgg0Lgg0YPRgdGC0LDQvdC+0LLQutC4INCy0LDQu9C40LTQvdC+0YHRgtC4INC60L3QvtC/0LrQuCBzdWJtaXRcclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmlucHV0U2VsZWN0b3IpKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlSW5wdXQoaW5wdXRFbGVtZW50KTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAvL9GE0YPQvdC60YbQuNGPINC+0YfQuNGB0YLQutC4INCy0YHQtdGFINGB0L7QvtCx0YnQtdC90LjQuSDRhNC+0YDQvNGLINC+0LEg0L7RiNC40LHQutCw0YUg0LfQsNC/0L7Qu9C90LXQvdC40Y8g0LjQvdC/0YPRgtC+0LJcclxuICBjbGVhckVycm9yTWVzc2FnZXMgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAvL9GE0YPQvdC60YbQuNGPINGD0YHRgtCw0L3QvtCy0LrQuCDRgdC+0YHRgtC+0Y/QvdC40Y8g0LrQvdC+0L/QutC4IHN1Ym1pdFxyXG4gIHNldFN1Ym1pdEJ0blN0YXRlID0gKCkgPT4ge1xyXG4gICAgaWYgKCF0aGlzLl9mb3JtLmNoZWNrVmFsaWRpdHkoKSkge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdG4uc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ0bi5jbGFzc0xpc3QuYWRkKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdG4ucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ0bi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy/QpNGD0L3QutGG0LjRjyDQstCw0LvQuNC00LDRhtC40LguINCY0YnQtdC8INGE0L7RgNC80YMg0LIg0L/QvtC/0LDQv9C1LCDQuCDQstC10YjQsNC10YIg0YHQu9GD0YjQsNGC0LXQu9C4IHN1Ym1pdCDQvdCwINC90LXRkSDQuCDRgdC70YPRiNCw0YLQtdC70LggaW5wdXQg0L3QsCDRjdC70LXQvNC10L3RgtGLINGE0L7RgNC80YtcclxuICBlbmFibGVWYWxpZGF0aW9uID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9O1xyXG59XHJcbiIsImNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gb3B0aW9ucy5yZW5kZXJlcjtcclxuXHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG9wdGlvbnMuY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoaW5pdGlhbENhcmRzRnJvbVNlcnZlciwgbXlJZGVudGlmaWNhdG9yKSB7XHJcbiAgICBpbml0aWFsQ2FyZHNGcm9tU2VydmVyLmZvckVhY2goKGl0ZW0pID0+IHRoaXMuX3JlbmRlcmVyKGl0ZW0sIG15SWRlbnRpZmljYXRvcikpO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbUFmdGVyTGFzdE9uZShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbUJlZm9yZUZpcnN0T25lKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgU2VjdGlvbiB9O1xyXG4iLCJleHBvcnQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuXHJcbiAgICAvL9C/0YDQuNCy0Y/Qt9GL0LLQsNC10LwgdGhpcyDRgtC+0LvRjNC60L4g0L7QtNC40L0g0YDQsNC3INCyINC60L7QvdGB0YLRgNGD0LrRgtC+0YDQtSwg0YfRgtC+0LHRiyDQv9GA0Lgg0YPQtNCw0LvQtdC90LjQuCDRgdC70YPRiNCw0YLQtdC70Y9cclxuICAgIC8v0LjRgdC/0L7Qu9GM0LfQvtCy0LDRgtGMINGC0L7Rh9C90L4g0YLQsNC60YPRjtC20LUg0YHRgdGL0LvQutGDINC90LAg0LrQvtC70LHRjdC6INGE0YPQvdC60YbQuNGOXHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UoZSkge1xyXG4gICAgaWYgKGUua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8v0YTRg9C90LrRhtC40Y8g0LfQsNC60YDRi9GC0LjRjyBwb3B1cCDQutC70LjQutCw0Y8g0L3QsCBPdmVybGF5ICjQsdC10Lcg0YHQvtGF0YDQsNC90LXQvdC40Y8pXHJcbiAgX2hhbmRsZVBvcHVwT3ZlcmxheUNsaWNrKGUpIHtcclxuICAgIGlmIChlLmN1cnJlbnRUYXJnZXQgPT0gZS50YXJnZXQpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVBvcHViQ2xvc2VCdG5DbGljaygpIHtcclxuICAgIHRoaXMuY2xvc2UoKTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgY29uc3QgY2xvc2VCdG4gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmJ1dHRvbl90eXBlX2Nsb3NlXCIpO1xyXG4gICAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZVBvcHViQ2xvc2VCdG5DbGljay5iaW5kKHRoaXMpKTtcclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVQb3B1cE92ZXJsYXlDbGljay5iaW5kKHRoaXMpKTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpOyAvL9Cy0LXRiNCw0LXQvCDRgdC70YPRiNCw0YLQtdC70YwgRXNjLiB0aGlzINC30LTQtdGB0Ywg0L/RgNC40LLRj9C30YvQstCw0YLRjCDQvdC10LvRjNC30Y8uIGJpbmQodGhpcykgIT09IGJpbmQodGhpcylcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTsgLy/RgdC90LjQvNCw0LXQvCDRgdC70YPRiNCw0YLQtdC70YwgRXNjXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuXHJcbiAgICB0aGlzLmltZ1BvcHVwSW1hZ2VFbGVtZW50ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2VcIik7XHJcbiAgICB0aGlzLmltZ1BvcHVwQ2FwdGlvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlLWNhcHRpb25cIik7XHJcbiAgfVxyXG5cclxuICBvcGVuKGNhcmROYW1lLCBjYXJkUGljU3JjKSB7XHJcbiAgICB0aGlzLmltZ1BvcHVwSW1hZ2VFbGVtZW50LmFsdCA9IGNhcmROYW1lO1xyXG4gICAgdGhpcy5pbWdQb3B1cEltYWdlRWxlbWVudC5zcmMgPSBjYXJkUGljU3JjO1xyXG4gICAgdGhpcy5pbWdQb3B1cENhcHRpb24udGV4dENvbnRlbnQgPSBjYXJkTmFtZTtcclxuXHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHN1Ym1pdEZvcm1GdW5jdGlvbikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcblxyXG4gICAgdGhpcy5zdWJtaXRGb3JtRnVuY3Rpb24gPSBzdWJtaXRGb3JtRnVuY3Rpb247XHJcblxyXG4gICAgdGhpcy5mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5mb3JtXCIpO1xyXG5cclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX2lucHV0XCIpO1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmJ1dHRvbl90eXBlX2Nsb3NlXCIpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uX3R5cGVfc3VibWl0XCIpO1xyXG5cclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbk9yaWdpbmFsVGV4dCA9IHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcclxuICB9XHJcblxyXG4gIHJlbmRlckxvYWRpbmcoaXNMb2FkaW5nKSB7XHJcbiAgICBpZiAoaXNMb2FkaW5nKSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwi0KHQvtGF0YDQsNC90LXQvdC40LUuLi5cIjtcclxuICAgIH0gZWxzZSBpZiAoIWlzTG9hZGluZykge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC40YLRjFwiO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgY29uc3QgaW5wdXRzVmFsdWVzID0ge307XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgaW5wdXRzVmFsdWVzW2lucHV0LmlkXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gaW5wdXRzVmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVN1Ym1pdEV2ZW50KGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIHRoaXMuc3VibWl0Rm9ybUZ1bmN0aW9uKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gIH1cclxuXHJcbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0LnZhbHVlID0gZGF0YVtpbnB1dC5uYW1lXTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5faGFuZGxlU3VibWl0RXZlbnQuYmluZCh0aGlzKSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLmZvcm0ucmVzZXQoKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVDb25maXJtKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlQ29uZmlybSA9IGhhbmRsZUNvbmZpcm07XG4gICAgdGhpcy5mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5mb3JtXCIpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uX3R5cGVfc3VibWl0XCIpO1xuXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uT3JpZ2luYWxUZXh0ID0gdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50O1xuICB9XG5cbiAgcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcpIHtcbiAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC10L3QuNC1Li4uXCI7XG4gICAgfSBlbHNlIGlmICghaXNMb2FkaW5nKSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9zdWJtaXRCdXR0b25PcmlnaW5hbFRleHQ7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZVN1Ym1pdEV2ZW50KGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5faGFuZGxlQ29uZmlybSh0aGlzLmNhcmRJZCwgdGhpcy5kZWxldGVDdXJyZW50RG9tRWxlbWVudCk7XG4gIH1cblxuICBrZWVwQ3VycmVudENhcmRPcHRpb25zKGNhcmRJZCwgZGVsZXRlQ3VycmVudERvbUVsZW1lbnQpIHtcbiAgICB0aGlzLmNhcmRJZCA9IGNhcmRJZDtcbiAgICB0aGlzLmRlbGV0ZUN1cnJlbnREb21FbGVtZW50ID0gZGVsZXRlQ3VycmVudERvbUVsZW1lbnQ7XG4gIH1cblxuICBkZWxldGVDdXJyZW50Q2FyZE9wdGlvbnMoKSB7XG4gICAgdGhpcy5jYXJkSWQgPSBudWxsO1xuICAgIHRoaXMuZGVsZXRlQ3VycmVudERvbUVsZW1lbnQgPSBudWxsO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLmZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLl9oYW5kbGVTdWJtaXRFdmVudC5iaW5kKHRoaXMpKTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IHByb2ZpbGVOYW1lU2VsZWN0b3IsIHByb2ZpbGVBYm91dFNlbGVjdG9yLCBwcm9maWxlQXZhdGFyU2VsZWN0b3IgfSkge1xyXG4gICAgdGhpcy5fcHJvZmlsZU5hbWVFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZU5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wcm9maWxlQWJvdXRFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZUFib3V0U2VsZWN0b3IpO1xyXG4gICAgdGhpcy5wcm9maWxlQXZhdGFyRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVBdmF0YXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIGNvbnN0IHVzZXJEYXRhID0ge307XHJcbiAgICAvL1wicHJvZmlsZU5hbWVcIiDQuCBcInByb2ZpbGVBYm91dFwiINC/0YDQvtC/0LjRgdCw0L3RiyDQsiBuYW1lINC40L3Qv9GD0YLQvtCyINC/0L7Qv9Cw0L/QsCBwb3B1cF90eXBlX3Byb2ZpbGVcclxuICAgIC8v0YfRgtC+0LHRiyDRgdCy0Y/Qt9Cw0YLRjCDRgSDQvNC10YLQvtC00L7QvCBzZXRJbnB1dFZhbHVlcyDQutC70LDRgdGB0LAgUG9wdXBXaXRoRm9ybVxyXG4gICAgdXNlckRhdGEucHJvZmlsZU5hbWUgPSB0aGlzLl9wcm9maWxlTmFtZUVsLnRleHRDb250ZW50O1xyXG4gICAgdXNlckRhdGEucHJvZmlsZUFib3V0ID0gdGhpcy5fcHJvZmlsZUFib3V0RWwudGV4dENvbnRlbnQ7XHJcbiAgICByZXR1cm4gdXNlckRhdGE7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VyQXZhdGFyKHVybCkge1xyXG4gICAgdGhpcy5wcm9maWxlQXZhdGFyRWwuc3JjID0gdXJsO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8obmFtZSwgYWJvdXQpIHtcclxuICAgIHRoaXMuX3Byb2ZpbGVOYW1lRWwudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5fcHJvZmlsZUFib3V0RWwudGV4dENvbnRlbnQgPSBhYm91dDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFwiLi4vcGFnZXMvaW5kZXguY3NzXCI7XG5cbmltcG9ydCB7XG4gIHZhbGlkYXRpb25Db25maWcsXG4gIHVzZXJJbmZvQ29uZmlnLFxuICBwcm9maWxlRWRpdEJ0bixcbiAgbmV3Q2FyZEFkZEJ0bixcbiAgYXBpT3B0aW9ucyxcbiAgYXZhdGFyT3ZlcmxheUVsLFxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5cbmltcG9ydCB7IEFwaSB9IGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xuXG5pbXBvcnQge1xuICBoYW5kbGVQcm9maWxlRWRpdEJ0bkNsaWNrLFxuICBoYW5kbGVOZXdDYXJkQWRkQnRuQ2xpY2ssXG4gIGNyZWF0ZUNhcmQsXG4gIGhhbmRsZUNvbmZpcm0sXG59IGZyb20gXCIuLi91dGlscy91dGlscy5qc1wiO1xuXG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCB7IFBvcHVwV2l0aEZvcm0gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgeyBQb3B1cFdpdGhDb25maXJtYXRpb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcblxuZXhwb3J0IGNvbnN0IGFwaSA9IG5ldyBBcGkoYXBpT3B0aW9ucyk7XG5cbmV4cG9ydCBjb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh1c2VySW5mb0NvbmZpZyk7XG5cbi8v0LjQvdGB0YLQsNC90YEg0L7RgtCy0LXRh9Cw0Y7RidC40Lkg0LfQsCDRgNCw0LHQvtGC0YMg0L/QvtC/0LDQv9CwINC/0YDQvtGB0LzQvtGC0YDQsCDQutCw0YDRgtC40L3QutC4XG5leHBvcnQgY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIucG9wdXBfdHlwZV9pbWFnZVwiKTtcbnBvcHVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8v0LjQvdGB0YLQsNC90YEg0L7RgtCy0LXRh9Cw0Y7RidC40Lkg0LfQsCDRgNCw0LHQvtGC0YMg0L/QvtC/0LDQv9CwINGB0L7Qt9C00LDQvdC40Y8g0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4XG5leHBvcnQgY29uc3QgbmV3Q2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfdHlwZV9uZXctY2FyZFwiLCAoaW5wdXRzVmFsdWVzKSA9PiB7XG4gIGNvbnN0IHBpY3R1cmVOYW1lRnJvbUlucHV0ID0gaW5wdXRzVmFsdWVzW1wiZm9ybV9faW5wdXRfdHlwZV9wbGFjZS1uYW1lXCJdO1xuICBjb25zdCBwaWN0dXJlTGlua0Zyb21JbnB1dCA9IGlucHV0c1ZhbHVlc1tcImZvcm1fX2lucHV0X3R5cGVfaW1hZ2UtbGlua1wiXTtcblxuICBuZXdDYXJkUG9wdXAucmVuZGVyTG9hZGluZyh0cnVlKTtcbiAgYXBpXG4gICAgLnNlbmROZXdDYXJkSW5mbyhwaWN0dXJlTmFtZUZyb21JbnB1dCwgcGljdHVyZUxpbmtGcm9tSW5wdXQpXG4gICAgLnRoZW4oKG15TmV3Q2FyZERhdGFGcm9tU2VydmVyKSA9PiB7XG4gICAgICBjb25zdCBuZXdDYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQobXlOZXdDYXJkRGF0YUZyb21TZXJ2ZXIsIG15TmV3Q2FyZERhdGFGcm9tU2VydmVyLm93bmVyLl9pZCk7XG4gICAgICBlbGVtZW50c0NvbnRhaW5lci5hZGRJdGVtQmVmb3JlRmlyc3RPbmUobmV3Q2FyZEVsZW1lbnQpO1xuICAgICAgbmV3Q2FyZFBvcHVwLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsCBhcGkgc2VuZE5ld0NhcmRJbmZvOiAke2Vycn1gKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIG5ld0NhcmRQb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgICB9KTtcbn0pO1xubmV3Q2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8v0LjQvdGB0YLQsNC90YEg0L7RgtCy0LXRh9Cw0Y7RidC40Lkg0LfQsCDRgNCw0LHQvtGC0YMg0L/QvtC/0LDQv9CwINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0LDQstCw0YLQsNGA0LrQuFxuY29uc3QgYXZhdGFyRWRpdFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfdHlwZV9uZXctYXZhdGFyXCIsIChpbnB1dHNWYWx1ZXMpID0+IHtcbiAgY29uc3QgbmV3QXZhdGFyVXJsID0gaW5wdXRzVmFsdWVzW1wiZm9ybV9faW5wdXRfdHlwZV9hdmF0YXItbGlua1wiXTtcbiAgYXZhdGFyRWRpdFBvcHVwLnJlbmRlckxvYWRpbmcodHJ1ZSk7XG4gIGFwaVxuICAgIC5zZW5kVXNlckF2YXRhcihuZXdBdmF0YXJVcmwpXG4gICAgLnRoZW4oKHVzZXJEYXRhRnJvbVNlcnZlcikgPT4ge1xuICAgICAgdXNlckluZm8uc2V0VXNlckF2YXRhcih1c2VyRGF0YUZyb21TZXJ2ZXIuYXZhdGFyKTtcbiAgICAgIGF2YXRhckVkaXRQb3B1cC5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LAgYXBpIHNlbmRVc2VyQXZhdGFyOiAke2Vycn1gKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIGF2YXRhckVkaXRQb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgICB9KTtcbn0pO1xuYXZhdGFyRWRpdFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8v0LjQvdGB0YLQsNC90YEg0L7RgtCy0LXRh9Cw0Y7RidC40Lkg0LfQsCDRgNCw0LHQvtGC0YMg0L/QvtC/0LDQv9CwINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0LTQsNC90L3Ri9GFINC+INC/0YDQvtGE0LjQu9C1XG5leHBvcnQgY29uc3QgcHJvZmlsZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfdHlwZV9wcm9maWxlXCIsIChpbnB1dHNWYWx1ZXMpID0+IHtcbiAgcHJvZmlsZVBvcHVwLnJlbmRlckxvYWRpbmcodHJ1ZSk7XG4gIGFwaVxuICAgIC5zZW5kVXNlckluZm8oXG4gICAgICBpbnB1dHNWYWx1ZXNbXCJmb3JtX19pbnB1dF90eXBlX3Byb2ZpbGUtbmFtZVwiXSxcbiAgICAgIGlucHV0c1ZhbHVlc1tcImZvcm1fX2lucHV0X3R5cGVfcHJvZmlsZS1hYm91dFwiXVxuICAgIClcbiAgICAudGhlbigodXNlckRhdGFGcm9tU2VydmVyKSA9PiB7XG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YUZyb21TZXJ2ZXIubmFtZSwgdXNlckRhdGFGcm9tU2VydmVyLmFib3V0KTtcbiAgICAgIHByb2ZpbGVQb3B1cC5jbG9zZSgpO1xuICAgICAgcmV0dXJuIHVzZXJEYXRhRnJvbVNlcnZlcjtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwIGFwaSBzZW5kVXNlckluZm86ICR7ZXJyfWApO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgcHJvZmlsZVBvcHVwLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xuICAgIH0pO1xufSk7XG5wcm9maWxlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy/QuNC90YHRgtCw0L3RgSDQvtGC0LLQtdGH0LDRjtGJ0LjQuSDQt9CwINGA0LDQsdC+0YLRgyDQv9C+0L/QsNC/0LAg0L/QvtC00YLQstC10YDQttC00LXQvdC40Y8g0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XG5leHBvcnQgY29uc3QgY29uZmlybWF0aW9uUG9wdXAgPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKFxuICBcIi5wb3B1cF90eXBlX2NvbmZpcm1hdGlvblwiLFxuICBoYW5kbGVDb25maXJtXG4pO1xuY29uZmlybWF0aW9uUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy/RgdC+0LfQtNCw0LXQvCDQuNC90YHRgtCw0L3RgdGLINC60LvQsNGB0YHQsCDQstCw0LvQuNC00LDRhtC40Lgg0LTQu9GPINC/0L7Qv9Cw0L/QvtCyINGBINGE0L7RgNC80LDQvNC4XG5leHBvcnQgY29uc3QgcHJvZmlsZVBvcHVwVmFsaWRhdGUgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBwcm9maWxlUG9wdXAuZm9ybSk7XG5leHBvcnQgY29uc3QgbmV3Q2FyZFBvcHVwVmFsaWRhdGUgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBuZXdDYXJkUG9wdXAuZm9ybSk7XG5leHBvcnQgY29uc3QgbmV3QXZhdGFyUG9wdXBWYWxpZGF0ZSA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIGF2YXRhckVkaXRQb3B1cC5mb3JtKTtcblxuLy/QuNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDQstCw0LvQuNC00LDRhtC40Lgo0LLQtdGI0LDQvdC40LUg0YHQu9GD0YjQsNGC0LXQu9C10Lkg0L/QviDRgdGD0YLQuClcbnByb2ZpbGVQb3B1cFZhbGlkYXRlLmVuYWJsZVZhbGlkYXRpb24oKTtcbm5ld0NhcmRQb3B1cFZhbGlkYXRlLmVuYWJsZVZhbGlkYXRpb24oKTtcbm5ld0F2YXRhclBvcHVwVmFsaWRhdGUuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG4vL9Cy0LXRiNCw0LXQvCDRgdC70YPRiNCw0YLQtdC70Lgg0L3QsCDQvtGB0L3QvtCy0L3Ri9C1INC00LLQtSDQutC90L7Qv9C60LggKyDQsNCy0LDRgtCw0YAg0L3QsCDQvtGB0L3QvtCy0L3QvtC5INGB0YLRgNCw0L3QuNGG0LVcbnByb2ZpbGVFZGl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVQcm9maWxlRWRpdEJ0bkNsaWNrKTtcbm5ld0NhcmRBZGRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZU5ld0NhcmRBZGRCdG5DbGljayk7XG5hdmF0YXJPdmVybGF5RWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gIGF2YXRhckVkaXRQb3B1cC5vcGVuKCk7XG4gIG5ld0F2YXRhclBvcHVwVmFsaWRhdGUuc2V0U3VibWl0QnRuU3RhdGUoKTtcbn0pO1xuXG4vL9GB0L7Qt9C00LDQtdC8INC40L3RgdGC0LDQvdGBINC60LvQsNGB0YHQsCBTZWN0aW9uINC00LvRjyDQvtGC0YDQuNGB0L7QstGL0LLQsNC90LjRjyDQutCw0YDRgtC+0YfQtdC6XG5jb25zdCBlbGVtZW50c0NvbnRhaW5lciA9IG5ldyBTZWN0aW9uKHtcbiAgcmVuZGVyZXI6IChpbml0aWFsQ2FyZHNJdGVtLCBteUlkZW50aWZpY2F0b3IpID0+IHtcbiAgICBjb25zdCDRgWFyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKGluaXRpYWxDYXJkc0l0ZW0sIG15SWRlbnRpZmljYXRvcik7XG4gICAgZWxlbWVudHNDb250YWluZXIuYWRkSXRlbUFmdGVyTGFzdE9uZSjRgWFyZEVsZW1lbnQpO1xuICB9LFxuICBjb250YWluZXJTZWxlY3RvcjogXCIuZWxlbWVudHNfX2xpc3RcIixcbn0pO1xuXG5Qcm9taXNlLmFsbChbYXBpLmdldFVzZXJJbmZvKCksIGFwaS5nZXRJbml0aWFsQ2FyZHMoKV0pXG4gIC50aGVuKChbdXNlckRhdGFGcm9tU2VydmVyLCBpbml0aWFsQ2FyZHNGcm9tU2VydmVyXSkgPT4ge1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHVzZXJEYXRhRnJvbVNlcnZlci5uYW1lLCB1c2VyRGF0YUZyb21TZXJ2ZXIuYWJvdXQpO1xuICAgIHVzZXJJbmZvLnNldFVzZXJBdmF0YXIodXNlckRhdGFGcm9tU2VydmVyLmF2YXRhcik7XG4gICAgZWxlbWVudHNDb250YWluZXIucmVuZGVySXRlbXMoaW5pdGlhbENhcmRzRnJvbVNlcnZlciwgdXNlckRhdGFGcm9tU2VydmVyLl9pZCk7XG5cbiAgICByZXR1cm4gdXNlckRhdGFGcm9tU2VydmVyO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LAgYXBpINC/0YDQvtC80LjRgdCwINC40LcgcHJvbWlzZS5hbGw6ICR7ZXJyfWApO1xuICB9KTtcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInZhbGlkYXRpb25Db25maWciLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsInByb2ZpbGVFZGl0QnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibmV3Q2FyZEFkZEJ0biIsImF2YXRhck92ZXJsYXlFbCIsIkFwaSIsIm9wdGlvbnMiLCJ0aGlzIiwiYmFzZVVybCIsImF1dGhUb2tlbiIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwidGhlbiIsIl9nZXRSZXNwb25zZURhdGEiLCJuYW1lIiwibGluayIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWJvdXQiLCJhdmF0YXJVcmwiLCJhdmF0YXIiLCJjYXJkSWQiLCJDYXJkIiwiX2NhcmREYXRhIiwiY2FyZERhdGEiLCJfdGVtcGxhdGUiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwiX215SWRlbnRpZmljYXRvciIsIm15SWRlbnRpZmljYXRvciIsIl9oYW5kbGVPbkNhcmRDbGljayIsImhhbmRsZU9uQ2FyZENsaWNrIiwiX2hhbmRsZURlbGV0ZUJ0bkNsaWNrIiwiaGFuZGxlRGVsZXRlQnRuQ2xpY2siLCJfaGFuZGxlTGlrZUNhcmQiLCJoYW5kbGVMaWtlQ2FyZCIsImlzTGlrZWQiLCJjb3VudHNPZkxpa2VzRnJvbVNlcnZlciIsIl9jYXJkSXNMaWtlZEJ5TWUiLCJfY3VycmVudENhcmRMaWtlQnRuIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiX2N1cnJlbnRDYXJkTGlrZUNvdW50ZXJFbCIsInRleHRDb250ZW50IiwiX2N1cnJlbnRFbGVtZW50IiwiX2N1cnJlbnRDYXJkUGljdHVyZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJfY3VycmVudENhcmREZWxldGVCdXR0b24iLCJfaWQiLCJfZGVsZXRlRG9tRWxlbWVudCIsImJpbmQiLCJfc2V0TGlrZUJ0blN0YXRlV2l0aENvdW50cyIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfY3VycmVudENhcmROYW1lIiwiYWx0Iiwic3JjIiwibGlrZXMiLCJzb21lIiwidXNlckRhdGEiLCJsZW5ndGgiLCJvd25lciIsIl9zZXRFdmVudExpc3RlbmVycyIsImNhcmROYW1lIiwiY2FyZFBpY1NyYyIsInBvcHVwV2l0aEltYWdlIiwib3BlbiIsImRlbGV0ZUN1cnJlbnREb21FbGVtZW50IiwiY29uZmlybWF0aW9uUG9wdXAiLCJrZWVwQ3VycmVudENhcmRPcHRpb25zIiwiaXNDYXJkQWxyZWFkeUxpa2VkQnlNZSIsInNldExpa2VCdG5TdGF0ZVdpdGhDb3VudHMiLCJhcGkiLCJjYXJkRGF0YUZyb21TZXJ2ZXIiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJjcmVhdGVDYXJkIiwiY3JlYXRlRWxlbWVudE5vZGUiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybSIsImlucHV0RWxlbWVudCIsImVycm9yTWVzc2FnZSIsIl9lcnJvckVsZW1lbnQiLCJfZm9ybSIsImlkIiwiX3ZhbGlkYXRpb25Db25maWciLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfY2hlY2tJbnB1dFZhbGlkaXR5Iiwic2V0U3VibWl0QnRuU3RhdGUiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJfaGFuZGxlSW5wdXQiLCJjaGVja1ZhbGlkaXR5IiwiX3N1Ym1pdEJ0biIsInJlbW92ZUF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsIlNlY3Rpb24iLCJfcmVuZGVyZXIiLCJyZW5kZXJlciIsIl9jb250YWluZXIiLCJjb250YWluZXJTZWxlY3RvciIsImluaXRpYWxDYXJkc0Zyb21TZXJ2ZXIiLCJpdGVtIiwiZWxlbWVudCIsImFwcGVuZCIsInByZXBlbmQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJlIiwiY2xvc2UiLCJjdXJyZW50VGFyZ2V0IiwidGFyZ2V0IiwiX2hhbmRsZVBvcHViQ2xvc2VCdG5DbGljayIsIl9oYW5kbGVQb3B1cE92ZXJsYXlDbGljayIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJQb3B1cFdpdGhJbWFnZSIsImltZ1BvcHVwSW1hZ2VFbGVtZW50IiwiaW1nUG9wdXBDYXB0aW9uIiwiUG9wdXBXaXRoRm9ybSIsInN1Ym1pdEZvcm1GdW5jdGlvbiIsIl9jbG9zZUJ1dHRvbiIsIl9zdWJtaXRCdXR0b24iLCJfc3VibWl0QnV0dG9uT3JpZ2luYWxUZXh0IiwiaXNMb2FkaW5nIiwiaW5wdXRzVmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwiZGF0YSIsIl9oYW5kbGVTdWJtaXRFdmVudCIsInJlc2V0IiwiUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwiaGFuZGxlQ29uZmlybSIsIl9oYW5kbGVDb25maXJtIiwiVXNlckluZm8iLCJwcm9maWxlTmFtZVNlbGVjdG9yIiwicHJvZmlsZUFib3V0U2VsZWN0b3IiLCJwcm9maWxlQXZhdGFyU2VsZWN0b3IiLCJfcHJvZmlsZU5hbWVFbCIsIl9wcm9maWxlQWJvdXRFbCIsInByb2ZpbGVBdmF0YXJFbCIsInByb2ZpbGVOYW1lIiwicHJvZmlsZUFib3V0IiwidXJsIiwidXNlckluZm8iLCJzZXRFdmVudExpc3RlbmVycyIsIm5ld0NhcmRQb3B1cCIsInBpY3R1cmVOYW1lRnJvbUlucHV0IiwicGljdHVyZUxpbmtGcm9tSW5wdXQiLCJyZW5kZXJMb2FkaW5nIiwic2VuZE5ld0NhcmRJbmZvIiwibXlOZXdDYXJkRGF0YUZyb21TZXJ2ZXIiLCJuZXdDYXJkRWxlbWVudCIsImVsZW1lbnRzQ29udGFpbmVyIiwiYWRkSXRlbUJlZm9yZUZpcnN0T25lIiwiZmluYWxseSIsImF2YXRhckVkaXRQb3B1cCIsIm5ld0F2YXRhclVybCIsInNlbmRVc2VyQXZhdGFyIiwidXNlckRhdGFGcm9tU2VydmVyIiwic2V0VXNlckF2YXRhciIsInByb2ZpbGVQb3B1cCIsInNlbmRVc2VySW5mbyIsInNldFVzZXJJbmZvIiwiZGVsZXRlQ3VycmVudENhcmRPcHRpb25zIiwicHJvZmlsZVBvcHVwVmFsaWRhdGUiLCJuZXdDYXJkUG9wdXBWYWxpZGF0ZSIsIm5ld0F2YXRhclBvcHVwVmFsaWRhdGUiLCJlbmFibGVWYWxpZGF0aW9uIiwidXNlckRhdGFGcm9tUGFnZSIsImdldFVzZXJJbmZvIiwic2V0SW5wdXRWYWx1ZXMiLCJjbGVhckVycm9yTWVzc2FnZXMiLCJpbml0aWFsQ2FyZHNJdGVtIiwi0YFhcmRFbGVtZW50IiwiYWRkSXRlbUFmdGVyTGFzdE9uZSIsImFsbCIsImdldEluaXRpYWxDYXJkcyIsInJlbmRlckl0ZW1zIl0sInNvdXJjZVJvb3QiOiIifQ==